!function(){function t(t){t.interceptors.push("httpRequestInterceptor")}function e(e){return{request:function(t){return t.headers["x-access-token"]=e.localStorage["tpo-token"],t}}}angular.module("tpo",["ngRoute","ngSanitize","ui.bootstrap"]),angular.module("tpo").config(["$routeProvider","$locationProvider",function(t,e){t.when("/login",{templateUrl:"views/login.template.html",controller:"loginCtrl",controllerAs:"vm"}).when("/vpisniList",{templateUrl:"views/vpisniList.template.html",controller:"vpisniListCtrl",controllerAs:"vm"}).when("/student/main",{templateUrl:"views/main.template.html",controller:"mainCtrl",controllerAs:"vm"}).when("/import",{templateUrl:"views/text.template.html",controller:"textCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo",{templateUrl:"views/pozabljeno.template.html",controller:"pozabljenoCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo/:ponastavi_id",{templateUrl:"views/ponastavi.template.html",controller:"ponastaviCtrl",controllerAs:"vm"}).when("/db",{templateUrl:"views/db.template.html",controller:"dbCtrl",controllerAs:"vm"}).when("/urediPredmete",{templateUrl:"views/urediPredmete.template.html",controller:"urediPredmeteCtrl",controllerAs:"vm"}).when("/urediPredmet/:idPredmeta",{templateUrl:"views/urediPredmet.template.html",controller:"urediPredmetCtrl",controllerAs:"vm"}).when("/urediLetnike",{templateUrl:"views/urediLetnike.template.html",controller:"urediLetnikeCtrl",controllerAs:"vm"}).when("/urediLetnike/:idLetnika",{templateUrl:"views/urediLetnike.template.html",controller:"urediLetnikeCtrl",controllerAs:"vm"}).when("/urediNacineStudija",{templateUrl:"views/urediNacineStudija.template.html",controller:"urediNacineStudijaCtrl",controllerAs:"vm"}).when("/urediNacinStudija/:idNacinStudija",{templateUrl:"views/urediNacinStudija.template.html",controller:"urediNacinStudijaCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/student/main"}),e.html5Mode(!0)}]).factory("httpRequestInterceptor",e).config(t),t.$inject=["$httpProvider"],e.$inject=["$window"]}(),function(){function t(t,e,n,i,o){var a=this;a.idStudenta=i.currentUser().student,a.veljavnostEMSO=function(){a.isEMSO(a.student.emso)?(a.napacenEmso="",900<a.student.emso.substring(4,7)?a.student.datum_rojstva=a.student.emso.substring(0,2)+"."+a.student.emso.substring(2,4)+".1"+a.student.emso.substring(4,7):a.student.datum_rojstva=a.student.emso.substring(0,2)+"."+a.student.emso.substring(2,4)+".2"+a.student.emso.substring(4,7)):a.napacenEmso="Ponovno preverite vnos EMSA"},a.isEMSO=function(t){if(t.length!=="DDMMLLLRRZZZK".length||"7777777777777"===t)return!1;for(var e=7,n=0,i=0;i<12;i++){var o=parseInt(t.substring(i,i+1));if(isNaN(o))return!1;n+=e*o,--e<2&&(e=7)}return(11-n%11).toString()===t.substring(12,13)},a.izbranNaslov=function(t){t?a.student.stalno_bivalisce_vrocanje?a.student.zacasno_bivalisce_vrocanje=!1:a.student.zacasno_bivalisce_vrocanje=!0:a.student.zacasno_bivalisce_vrocanje?a.student.stalno_bivalisce_vrocanje=!1:a.student.stalno_bivalisce_vrocanje=!0},a.shraniPodatke=function(){var t={vpisna_stevilka:a.student.vpisna_stevilka,priimek:a.student.priimek,ime:a.student.ime,datum_rojstva:a.student.datum_rojstva,kraj_rojstva:a.student.kraj_rojstva,drzava_rojstva:a.student.drzava_rojstva,obcina_rojstva:a.student.obcina_rojstva,drzavljanstvo:a.student.drzavljanstvo,spol:a.student.spol,emso:a.student.emso,davcna_stevilka:a.student.davcna_stevilka,email:a.student.email,prenosni_telefon:a.student.prenosni_telefon,stalno_bivalisce_naslov:a.student.stalno_bivalisce_naslov,stalno_bivalisce_posta:a.student.stalno_bivalisce_posta,stalno_bivalisce_obcina:a.student.stalno_bivalisce_obcina,stalno_bivalisce_drzava:a.student.stalno_bivalisce_drzava,stalno_bivalisce_vrocanje:a.student.stalno_bivalisce_vrocanje,zacasno_bivalisce_naslov:a.student.zacasno_bivalisce_naslov,zacasno_bivalisce_posta:a.student.zacasno_bivalisce_posta,zacasno_bivalisce_obcina:a.student.zacasno_bivalisce_obcina,zacasno_bivalisce_drzava:a.student.zacasno_bivalisce_drzava,zacasno_bivalisce_vrocanje:a.student.zacasno_bivalisce_vrocanje};e.urediStudenta(a.idStudenta,t).then(function(t){},function(t){console.log("Zgodila se je napaka: "+t)})},e.izpisStudenta(a.idStudenta).then(function(t){a.student=t.data},function(t){console.log("Pripetila se je napaka: "+t)}),o.pridobiObcine().then(function(t){a.obcine=t.data},function(t){console.log("Prišlo do napake pri pridobivanju občin: "+t)}),o.pridobiDrzave().then(function(t){a.drzave=t.data},function(t){console.log("Prišlo do napake pri pridobivanju drćav: "+t)}),o.pridobiPoste().then(function(t){a.poste=t.data},function(t){console.log("Prišlo do napake pri pridobivanju pošt: "+t)}),a.izbiraPredmetov=function(){a.izbirci="true",t.pridobiPredmet("1").then(function(t){a.redniPredmeti=t.data},function(t){console.log(t)}),t.pridobiPredmet("1").then(function(t){a.izbirniPredmeti=t.data},function(t){console.log(t)})}}t.$inject=["predmetPodatki","studentPodatki","$routeParams","authentication","ostaloPodatki"],angular.module("tpo").controller("vpisniListCtrl",t)}(),angular.module("tpo").directive("header",function(){return{restrict:"EA",templateUrl:"/total/directives/header/header.template.html"}}),angular.module("tpo").directive("footer",function(){return{restrict:"EA",templateUrl:"/total/directives/footer/footer.template.html"}}),angular.module("tpo").directive("navigation",function(){return{restrict:"EA",templateUrl:"/total/directives/navigation/navigation.template.html"}}),function(){var t=function(n){return{dodajStudenta:function(t){return n.post("/api/v1/student",t)},izpisStudentov:function(){return n.get("/api/v1/student")},izpisStudenta:function(t){return n.get("/api/v1/student/"+t)},urediStudenta:function(t,e){return n.put("/api/v1/student/"+t,e)}}};t.$inject=["$http"],angular.module("tpo").service("studentPodatki",t)}(),function(){var t=function(n){return{pridobiPredmet:function(t){return n.get("/api/v1/predmet/"+t)},izpisiVsePredmete:function(){return n.get("api/v1/predmet/vse")},izpisiVseVeljavnePredmete:function(){return n.get("api/v1/predmet")},izpisiVseIzbrisanePredmete:function(){return n.get("api/v1/predmet/izbrisane")},dodajPredmet:function(t){return n.post("api/v1/predmet",t)},izbrisiPredmet:function(t){return n.delete("api/v1/predmet/"+t)},obnoviPredmet:function(t){return n.post("api/v1/predmet/"+t)},urediPredmet:function(t,e){return n.put("api/v1/predmet/"+t,e)}}};t.$inject=["$http"],angular.module("tpo").service("predmetPodatki",t)}(),function(){function t(e,t,n){var i=this;i.prikaziPredmete=function(){e.izpisiVsePredmete().then(function(t){i.predmeti=t.data},function(t){console.log(t)})},i.izbris=function(t){e.izbrisiPredmet(t).then(function(t){i.prikaziPredmete()},function(t){console.log(t)})},i.obnovi=function(t){e.obnoviPredmet(t).then(function(t){i.prikaziPredmete()},function(t){console.log(t)})},i.uredi=function(t){n.path("/urediPredmet/"+t)}}t.$inject=["predmetPodatki","$scope","$location"],angular.module("tpo").controller("urediPredmeteCtrl",t)}(),function(){function t(e,n,t){var i=this;i.idPredmeta=t.idPredmeta,i.opcijeKT=[1,2,3,4,5,6],i.pridobiPredmet=function(){n.pridobiPredmet(i.idPredmeta).then(function(t){i.predmet=t.data},function(t){console.log(t)})},i.shrani=function(){var t={naziv:i.predmet.naziv,sifra:i.predmet.sifra,KT:i.predmet.KT};n.urediPredmet(i.idPredmeta,t).then(function(t){e.path("/urediPredmete")},function(t){i.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},i.preklici=function(){e.path("/urediPredmete")}}t.$inject=["$location","predmetPodatki","$routeParams"],angular.module("tpo").controller("urediPredmetCtrl",t)}(),function(){function t(e,t,n){var i=this;i.prikazi=function(){e.pridobiVseNacineStudija().then(function(t){i.nacinStudija=t.data},function(t){console.log(t)})},i.izbris=function(t){e.izbrisiNacinStudija(t).then(function(t){i.prikazi()},function(t){console.log(t)})},i.obnovi=function(t){e.obnoviNacinStudija(t).then(function(t){i.prikazi()},function(t){console.log(t)})},i.uredi=function(t){n.path("/urediNacinStudija/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediNacineStudijaCtrl",t)}(),function(){function t(e,n,t){var i=this;i.idNacinStudija=t.idNacinStudija,i.pridobi=function(){n.najdiNacinStudija(i.idNacinStudija).then(function(t){i.nacinStudija=t.data},function(t){console.log(t)})},i.shrani=function(){var t={naziv:i.nacinStudija.naziv,sifra:i.nacinStudija.sifra};n.urediNacinStudija(i.idNacinStudija,t).then(function(t){e.path("/urediNacineStudija")},function(t){i.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},i.preklici=function(){e.path("/urediNacineStudija")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediNacinStudijaCtrl",t)}();