!function(){function t(t){t.interceptors.push("httpRequestInterceptor")}function e(e){return{request:function(t){return t.headers["x-access-token"]=e.localStorage["tpo-token"],t}}}angular.module("tpo",["ngRoute","ngSanitize","ui.bootstrap"]),angular.module("tpo").config(["$routeProvider","$locationProvider",function(t,e){t.when("/login",{templateUrl:"views/login.template.html",controller:"loginCtrl",controllerAs:"vm"}).when("/vpisniList",{templateUrl:"views/vpisniList.template.html",controller:"vpisniListCtrl",controllerAs:"vm"}).when("/student/main",{templateUrl:"views/main.template.html",controller:"mainCtrl",controllerAs:"vm"}).when("/import",{templateUrl:"views/text.template.html",controller:"textCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo",{templateUrl:"views/pozabljeno.template.html",controller:"pozabljenoCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo/:ponastavi_id",{templateUrl:"views/ponastavi.template.html",controller:"ponastaviCtrl",controllerAs:"vm"}).when("/db",{templateUrl:"views/db.template.html",controller:"dbCtrl",controllerAs:"vm"}).when("/urediPredmete",{templateUrl:"views/urediPredmete.template.html",controller:"urediPredmeteCtrl",controllerAs:"vm"}).when("/urediPredmet/:idPredmeta",{templateUrl:"views/urediPredmet.template.html",controller:"urediPredmetCtrl",controllerAs:"vm"}).when("/urediLetnike",{templateUrl:"views/urediLetnike.template.html",controller:"urediLetnikeCtrl",controllerAs:"vm"}).when("/urediLetnike/:idLetnika",{templateUrl:"views/urediLetnike.template.html",controller:"urediLetnikeCtrl",controllerAs:"vm"}).when("/urediNacineStudija",{templateUrl:"views/urediNacineStudija.template.html",controller:"urediNacineStudijaCtrl",controllerAs:"vm"}).when("/urediNacinStudija/:idNacinStudija",{templateUrl:"views/urediNacinStudija.template.html",controller:"urediNacinStudijaCtrl",controllerAs:"vm"}).when("/urediOblikeStudija",{templateUrl:"views/urediOblikeStudija.template.html",controller:"urediOblikeStudijaCtrl",controllerAs:"vm"}).when("/urediOblikoStudija/:idOblikaStudija",{templateUrl:"views/urediOblikoStudija.template.html",controller:"urediOblikoStudijaCtrl",controllerAs:"vm"}).when("/urediPredmetnike",{templateUrl:"views/urediPredmetnike.template.html",controller:"urediPredmetnikeCtrl",controllerAs:"vm"}).when("/urediPredmetnik/:idPredmetnika",{templateUrl:"views/urediPredmetnike.template.html",controller:"urediPredmetnikCtrl",controllerAs:"vm"}).when("/urediStudijskePrograme",{templateUrl:"views/urediStudijskePrograme.template.html",controller:"urediStudijskeProgrameCtrl",controllerAs:"vm"}).when("/urediStudijskiProgram/:idStudijskegaPrograma",{templateUrl:"views/urediStudijskiProgram.template.html",controller:"urediStudijskiProgramCtrl",controllerAs:"vm"}).when("/urediStudijskaLeta",{templateUrl:"views/urediStudijskaLeta.template.html",controller:"urediStudijskaLetaCtrl",controllerAs:"vm"}).when("/urediStudijskoLeto/:idStudijskegaLeta",{templateUrl:"views/urediStudijskoLeto.template.html",controller:"urediStudijskoLetoCtrl",controllerAs:"vm"}).when("/urediVrsteStudija",{templateUrl:"views/urediVrsteStudija.template.html",controller:"urediVrsteStudijaCtrl",controllerAs:"vm"}).when("/urediVrstoStudija/:idVrsteStudija",{templateUrl:"views/urediVrstoStudija.template.html",controller:"urediVrstoStudijaCtrl",controllerAs:"vm"}).when("/urediVrsteVpisa",{templateUrl:"views/urediVrsteVpisa.template.html",controller:"urediVrsteVpisaCtrl",controllerAs:"vm"}).when("/urediVrstoVpisa/:idVrsteVpisa",{templateUrl:"views/urediVrstoVpisa.template.html",controller:"urediVrstoVpisaCtrl",controllerAs:"vm"}).when("/urediZaposlene",{templateUrl:"views/urediZaposlene.template.html",controller:"urediZaposleneCtrl",controllerAs:"vm"}).when("/urediZaposlenega/:idZaposlenega",{templateUrl:"views/urediZaposlenega.template.html",controller:"urediZaposlenegaCtrl",controllerAs:"vm"}).when("/urediDelePredmetov",{templateUrl:"views/urediDelePredmetov.template.html",controller:"urediDelePredmetovCtrl",controllerAs:"vm"}).when("/urediDelePredmeta/:idDelaPredmeta",{templateUrl:"views/urediDelePredmeta.template.html",controller:"urediDelePredmetaCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/student/main"}),e.html5Mode(!0)}]).factory("httpRequestInterceptor",e).config(t),t.$inject=["$httpProvider"],e.$inject=["$window"]}(),function(){function t(t,e,i,o,n){var r=this;r.idStudenta=o.currentUser().student,r.veljavnostEMSO=function(){r.isEMSO(r.student.emso)?(r.napacenEmso="",900<r.student.emso.substring(4,7)?r.student.datum_rojstva=r.student.emso.substring(0,2)+"."+r.student.emso.substring(2,4)+".1"+r.student.emso.substring(4,7):r.student.datum_rojstva=r.student.emso.substring(0,2)+"."+r.student.emso.substring(2,4)+".2"+r.student.emso.substring(4,7)):r.napacenEmso="Ponovno preverite vnos EMSA"},r.isEMSO=function(t){if(t.length!=="DDMMLLLRRZZZK".length||"7777777777777"===t)return!1;for(var e=7,i=0,o=0;o<12;o++){var n=parseInt(t.substring(o,o+1));if(isNaN(n))return!1;i+=e*n,--e<2&&(e=7)}return(11-i%11).toString()===t.substring(12,13)},r.izbranNaslov=function(t){t?r.student.stalno_bivalisce_vrocanje?r.student.zacasno_bivalisce_vrocanje=!1:r.student.zacasno_bivalisce_vrocanje=!0:r.student.zacasno_bivalisce_vrocanje?r.student.stalno_bivalisce_vrocanje=!1:r.student.stalno_bivalisce_vrocanje=!0},r.shraniPodatke=function(){var t={vpisna_stevilka:r.student.vpisna_stevilka,priimek:r.student.priimek,ime:r.student.ime,datum_rojstva:r.student.datum_rojstva,kraj_rojstva:r.student.kraj_rojstva,drzava_rojstva:r.student.drzava_rojstva,obcina_rojstva:r.student.obcina_rojstva,drzavljanstvo:r.student.drzavljanstvo,spol:r.student.spol,emso:r.student.emso,davcna_stevilka:r.student.davcna_stevilka,email:r.student.email,prenosni_telefon:r.student.prenosni_telefon,stalno_bivalisce_naslov:r.student.stalno_bivalisce_naslov,stalno_bivalisce_posta:r.student.stalno_bivalisce_posta,stalno_bivalisce_obcina:r.student.stalno_bivalisce_obcina,stalno_bivalisce_drzava:r.student.stalno_bivalisce_drzava,stalno_bivalisce_vrocanje:r.student.stalno_bivalisce_vrocanje,zacasno_bivalisce_naslov:r.student.zacasno_bivalisce_naslov,zacasno_bivalisce_posta:r.student.zacasno_bivalisce_posta,zacasno_bivalisce_obcina:r.student.zacasno_bivalisce_obcina,zacasno_bivalisce_drzava:r.student.zacasno_bivalisce_drzava,zacasno_bivalisce_vrocanje:r.student.zacasno_bivalisce_vrocanje};e.urediStudenta(r.idStudenta,t).then(function(t){},function(t){console.log("Zgodila se je napaka: "+t)})},e.izpisStudenta(r.idStudenta).then(function(t){r.student=t.data},function(t){console.log("Pripetila se je napaka: "+t)}),n.pridobiObcine().then(function(t){r.obcine=t.data},function(t){console.log("Prišlo do napake pri pridobivanju občin: "+t)}),n.pridobiDrzave().then(function(t){r.drzave=t.data},function(t){console.log("Prišlo do napake pri pridobivanju drćav: "+t)}),n.pridobiPoste().then(function(t){r.poste=t.data},function(t){console.log("Prišlo do napake pri pridobivanju pošt: "+t)}),r.izbiraPredmetov=function(){r.izbirci="true",t.pridobiPredmet("1").then(function(t){r.redniPredmeti=t.data},function(t){console.log(t)}),t.pridobiPredmet("1").then(function(t){r.izbirniPredmeti=t.data},function(t){console.log(t)})}}t.$inject=["predmetPodatki","studentPodatki","$routeParams","authentication","ostaloPodatki"],angular.module("tpo").controller("vpisniListCtrl",t)}(),angular.module("tpo").directive("header",function(){return{restrict:"EA",templateUrl:"/total/directives/header/header.template.html"}}),angular.module("tpo").directive("footer",function(){return{restrict:"EA",templateUrl:"/total/directives/footer/footer.template.html"}}),angular.module("tpo").directive("navigation",function(){return{restrict:"EA",templateUrl:"/total/directives/navigation/navigation.template.html"}}),function(){var t=function(i){return{dodajStudenta:function(t){return i.post("/api/v1/student",t)},izpisStudentov:function(){return i.get("/api/v1/student")},izpisStudenta:function(t){return i.get("/api/v1/student/"+t)},urediStudenta:function(t,e){return i.put("/api/v1/student/"+t,e)}}};t.$inject=["$http"],angular.module("tpo").service("studentPodatki",t)}(),function(){var t=function(i){return{pridobiPredmet:function(t){return i.get("/api/v1/predmet/"+t)},izpisiVsePredmete:function(){return i.get("api/v1/predmet/vse")},izpisiVseVeljavnePredmete:function(){return i.get("api/v1/predmet")},izpisiVseIzbrisanePredmete:function(){return i.get("api/v1/predmet/izbrisane")},dodajPredmet:function(t){return i.post("api/v1/predmet",t)},izbrisiPredmet:function(t){return i.delete("api/v1/predmet/"+t)},obnoviPredmet:function(t){return i.post("api/v1/predmet/"+t)},urediPredmet:function(t,e){return i.put("api/v1/predmet/"+t,e)}}};t.$inject=["$http"],angular.module("tpo").service("predmetPodatki",t)}(),function(){function t(e,t,i){var o=this;o.prikaziPredmete=function(){e.izpisiVsePredmete().then(function(t){o.predmeti=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiPredmet(t).then(function(t){o.prikaziPredmete()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviPredmet(t).then(function(t){o.prikaziPredmete()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediPredmet/"+t)}}t.$inject=["predmetPodatki","$scope","$location"],angular.module("tpo").controller("urediPredmeteCtrl",t)}(),function(){function t(e,i,t){var o=this;o.idPredmeta=t.idPredmeta,o.opcijeKT=[1,2,3,4,5,6],o.pridobiPredmet=function(){i.pridobiPredmet(o.idPredmeta).then(function(t){o.predmet=t.data},function(t){console.log(t)})},o.shrani=function(){var t={naziv:o.predmet.naziv,sifra:o.predmet.sifra,KT:o.predmet.KT};i.urediPredmet(o.idPredmeta,t).then(function(t){e.path("/urediPredmete")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediPredmete")}}t.$inject=["$location","predmetPodatki","$routeParams"],angular.module("tpo").controller("urediPredmetCtrl",t)}(),function(){function t(e,t,i){var o=this;o.prikazi=function(){e.pridobiVseNacineStudija().then(function(t){o.nacinStudija=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiNacinStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviNacinStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediNacinStudija/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediNacineStudijaCtrl",t)}(),function(){function t(e,i,t){var o=this;o.idNacinStudija=t.idNacinStudija,o.pridobi=function(){i.najdiNacinStudija(o.idNacinStudija).then(function(t){o.podatki=t.data},function(t){console.log(t)})},o.shrani=function(){var t={naziv:o.podatki.naziv,sifra:o.podatki.sifra};i.urediNacinStudija(o.idNacinStudija,t).then(function(t){e.path("/urediNacineStudija")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediNacineStudija")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediNacinStudijaCtrl",t)}(),function(){function t(e,t,i){var o=this;o.prikazi=function(){e.pridobiVseVrsteStudije().then(function(t){o.vrstaStudija=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiVrstoStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviVrstoStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediVrstoStudija/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediVrsteStudijaCtrl",t)}(),function(){function t(e,i,t){var o=this;o.id=t.idVrsteStudija,o.pridobi=function(){i.najdiVrstoStudija(o.id).then(function(t){o.podatki=t.data},function(t){console.log(t)})},o.shrani=function(){var t={sifra:o.podatki.sifra,opis:o.podatki.opis,klasiusSRV:o.podatki.klasiusSRV,predpona:o.podatki.predpona};i.urediVrstoStudija(o.id,t).then(function(t){e.path("/urediVrsteStudija")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediVrsteStudija")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediVrstoStudijaCtrl",t)}(),function(){function t(e,t,i){var o=this;o.prikazi=function(){e.pridobiVseOblikeStudija().then(function(t){o.oblikeStudija=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiOblikoStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviOblikoStudija(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediOblikoStudija/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediOblikeStudijaCtrl",t)}(),function(){function t(e,i,t){var o=this;o.id=t.idOblikaStudija,o.pridobi=function(){i.najdiOblikoStudija(o.id).then(function(t){o.podatki=t.data},function(t){console.log(t)})},o.shrani=function(){var t={naziv:o.podatki.naziv,sifra:o.podatki.sifra};i.urediOblikoStudija(o.id,t).then(function(t){e.path("/urediOblikeStudija")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediOblikeStudija")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediOblikoStudijaCtrl",t)}(),function(){function t(e,t,i){var o=this;o.prikazi=function(){e.pridobiVseStudijskePrograme().then(function(t){o.studijskiProgram=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiStudijskiProgram(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviStudijskiProgram(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediStudijskiProgram/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediStudijskeProgrameCtrl",t)}(),function(){function t(e,i,t){var o=this;o.id=t.idStudijskegaPrograma,o.pridobi=function(){i.najdiStudijskiProgram(o.id).then(function(t){o.podatki=t.data},function(t){console.log(t)})},o.shrani=function(){var t={naziv:o.podatki.naziv,sifra:o.podatki.sifra,vrstaStudija:o.podatki.vrstaStudija,semestri:o.podatki.semestri,sifraEVS:o.podatki.sifraEVS};i.urediStudijskiProgram(o.id,t).then(function(t){e.path("/urediStudijskePrograme")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediStudijskePrograme")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediStudijskiProgramCtrl",t)}(),function(){function t(e,t,i){var o=this;o.prikazi=function(){e.pridobiVseStudijskaLeta().then(function(t){o.studijskaLeta=t.data},function(t){console.log(t)})},o.izbris=function(t){e.izbrisiStudijskoLeto(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.obnovi=function(t){e.obnoviStudijskoLeto(t).then(function(t){o.prikazi()},function(t){console.log(t)})},o.uredi=function(t){i.path("/urediStudijskoLeto/"+t)}}t.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediStudijskaLetaCtrl",t)}(),function(){function t(e,i,t){var o=this;o.id=t.idStudijskegaLeta,o.pridobi=function(){i.najdiStudijskoLeto(o.id).then(function(t){o.podatki=t.data},function(t){console.log(t)})},o.shrani=function(){var t={studijsko_leto:o.podatki.studijsko_leto};i.urediStudijskoLeto(o.id,t).then(function(t){e.path("/urediStudijskaLeta")},function(t){o.obvestilo="Že obstaja zapis s to šifro",console.log(t)})},o.preklici=function(){e.path("/urediStudijskaLeta")}}t.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediStudijskoLetoCtrl",t)}();