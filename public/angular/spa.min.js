!function(){function t(t){t.interceptors.push("httpRequestInterceptor")}function e(e){return{request:function(t){return t.headers["x-access-token"]=e.localStorage["tpo-token"],t}}}angular.module("tpo",["ngRoute","ngSanitize","ui.bootstrap"]),angular.module("tpo").config(["$routeProvider","$locationProvider",function(t,e){t.when("/login",{templateUrl:"views/login.template.html",controller:"loginCtrl",controllerAs:"vm"}).when("/vpisniList",{templateUrl:"views/vpisniList.template.html",controller:"vpisniListCtrl",controllerAs:"vm"}).when("/student/main",{templateUrl:"views/main.template.html",controller:"mainCtrl",controllerAs:"vm"}).when("/import",{templateUrl:"views/text.template.html",controller:"textCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo",{templateUrl:"views/pozabljeno.template.html",controller:"pozabljenoCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo/:ponastavi_id",{templateUrl:"views/ponastavi.template.html",controller:"ponastaviCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/student/main"}),e.html5Mode(!0)}]).factory("httpRequestInterceptor",e).config(t),t.$inject=["$httpProvider"],e.$inject=["$window"]}(),function(){function t(e,t,n,a){var o=this;o.idStudenta=n.currentUser().student,o.veljavnostEMSO=function(){o.isEMSO(o.student.emso)?(o.napacenEmso="",900<o.student.emso.substring(4,7)?o.student.datum_rojstva=o.student.emso.substring(0,2)+"."+o.student.emso.substring(2,4)+".1"+o.student.emso.substring(4,7):o.student.datum_rojstva=o.student.emso.substring(0,2)+"."+o.student.emso.substring(2,4)+".2"+o.student.emso.substring(4,7)):o.napacenEmso="Ponovno preverite vnos EMSA"},o.isEMSO=function(t){if(t.length!=="DDMMLLLRRZZZK".length||"7777777777777"===t)return!1;for(var e=7,n=0,a=0;a<12;a++){var o=parseInt(t.substring(a,a+1));if(isNaN(o))return!1;n+=e*o,--e<2&&(e=7)}return(11-n%11).toString()===t.substring(12,13)},o.izbranNaslov=function(t){t?o.student.stalno_bivalisce_vrocanje?o.student.zacasno_bivalisce_vrocanje=!1:o.student.zacasno_bivalisce_vrocanje=!0:o.student.zacasno_bivalisce_vrocanje?o.student.stalno_bivalisce_vrocanje=!1:o.student.stalno_bivalisce_vrocanje=!0},o.shraniPodatke=function(){var t={vpisna_stevilka:o.student.vpisna_stevilka,priimek:o.student.priimek,ime:o.student.ime,datum_rojstva:o.student.datum_rojstva,kraj_rojstva:o.student.kraj_rojstva,drzava_rojstva:o.student.drzava_rojstva,obcina_rojstva:o.student.obcina_rojstva,drzavljanstvo:o.student.drzavljanstvo,spol:o.student.spol,emso:o.student.emso,davcna_stevilka:o.student.davcna_stevilka,email:o.student.email,prenosni_telefon:o.student.prenosni_telefon,stalno_bivalisce_naslov:o.student.stalno_bivalisce_naslov,stalno_bivalisce_posta:o.student.stalno_bivalisce_posta,stalno_bivalisce_obcina:o.student.stalno_bivalisce_obcina,stalno_bivalisce_drzava:o.student.stalno_bivalisce_drzava,stalno_bivalisce_vrocanje:o.student.stalno_bivalisce_vrocanje,zacasno_bivalisce_naslov:o.student.zacasno_bivalisce_naslov,zacasno_bivalisce_posta:o.student.zacasno_bivalisce_posta,zacasno_bivalisce_obcina:o.student.zacasno_bivalisce_obcina,zacasno_bivalisce_drzava:o.student.zacasno_bivalisce_drzava,zacasno_bivalisce_vrocanje:o.student.zacasno_bivalisce_vrocanje};e.urediStudenta(o.idStudenta,t).then(function(t){},function(t){console.log("Zgodila se je napaka: "+t)})},e.izpisStudenta(o.idStudenta).then(function(t){o.student=t.data},function(t){console.log("Pripetila se je napaka: "+t)}),a.pridobiObcine().then(function(t){o.obcine=t.data},function(t){console.log("Prišlo do napake pri pridobivanju občin: "+t)}),a.pridobiDrzave().then(function(t){o.drzave=t.data},function(t){console.log("Prišlo do napake pri pridobivanju drćav: "+t)}),a.pridobiPoste().then(function(t){o.poste=t.data},function(t){console.log("Prišlo do napake pri pridobivanju pošt: "+t)})}t.$inject=["studentPodatki","$routeParams","authentication","ostaloPodatki"],angular.module("tpo").controller("vpisniListCtrl",t)}(),angular.module("tpo").directive("header",function(){return{restrict:"EA",templateUrl:"/total/directives/header/header.template.html"}}),angular.module("tpo").directive("footer",function(){return{restrict:"EA",templateUrl:"/total/directives/footer/footer.template.html"}}),angular.module("tpo").directive("navigation",function(){return{restrict:"EA",templateUrl:"/total/directives/navigation/navigation.template.html"}});