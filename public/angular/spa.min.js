!function(){function e(e){e.interceptors.push("httpRequestInterceptor")}function t(t){return{request:function(e){return e.headers["x-access-token"]=t.localStorage["tpo-token"],e}}}angular.module("tpo",["ngRoute","ngSanitize","ui.bootstrap"]),angular.module("tpo").config(["$routeProvider","$locationProvider",function(e,t){e.when("/login",{templateUrl:"views/login.template.html",controller:"loginCtrl",controllerAs:"vm"}).when("/vpisniList",{templateUrl:"views/vpisniList.template.html",controller:"vpisniListCtrl",controllerAs:"vm"}).when("/student/main",{templateUrl:"views/main.template.html",controller:"mainCtrl",controllerAs:"vm"}).when("/import",{templateUrl:"views/text.template.html",controller:"textCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo",{templateUrl:"views/pozabljeno.template.html",controller:"pozabljenoCtrl",controllerAs:"vm"}).when("/pozabljeno-geslo/:ponastavi_id",{templateUrl:"views/ponastavi.template.html",controller:"ponastaviCtrl",controllerAs:"vm"}).when("/db",{templateUrl:"views/db.template.html",controller:"dbCtrl",controllerAs:"vm"}).when("/urediPredmete",{templateUrl:"views/urediPredmete.template.html",controller:"urediPredmeteCtrl",controllerAs:"vm"}).when("/urediPredmet/:idPredmeta",{templateUrl:"views/urediPredmet.template.html",controller:"urediPredmetCtrl",controllerAs:"vm"}).when("/urediNacineStudija",{templateUrl:"views/urediNacineStudija.template.html",controller:"urediNacineStudijaCtrl",controllerAs:"vm"}).when("/urediNacinStudija/:idNacinStudija",{templateUrl:"views/urediNacinStudija.template.html",controller:"urediNacinStudijaCtrl",controllerAs:"vm"}).when("/urediOblikeStudija",{templateUrl:"views/urediOblikeStudija.template.html",controller:"urediOblikeStudijaCtrl",controllerAs:"vm"}).when("/urediOblikoStudija/:idOblikaStudija",{templateUrl:"views/urediOblikoStudija.template.html",controller:"urediOblikoStudijaCtrl",controllerAs:"vm"}).when("/urediPredmetnike",{templateUrl:"views/urediPredmetnike.template.html",controller:"urediPredmetnikeCtrl",controllerAs:"vm"}).when("/urediPredmetnik/:idPredmetnika",{templateUrl:"views/urediPredmetnike.template.html",controller:"urediPredmetnikCtrl",controllerAs:"vm"}).when("/urediStudijskePrograme",{templateUrl:"views/urediStudijskePrograme.template.html",controller:"urediStudijskeProgrameCtrl",controllerAs:"vm"}).when("/urediStudijskiProgram/:idStudijskegaPrograma",{templateUrl:"views/urediStudijskiProgram.template.html",controller:"urediStudijskiProgramCtrl",controllerAs:"vm"}).when("/urediStudijskaLeta",{templateUrl:"views/urediStudijskaLeta.template.html",controller:"urediStudijskaLetaCtrl",controllerAs:"vm"}).when("/urediStudijskoLeto/:idStudijskegaLeta",{templateUrl:"views/urediStudijskoLeto.template.html",controller:"urediStudijskoLetoCtrl",controllerAs:"vm"}).when("/urediVrsteStudija",{templateUrl:"views/urediVrsteStudija.template.html",controller:"urediVrsteStudijaCtrl",controllerAs:"vm"}).when("/urediVrstoStudija/:idVrsteStudija",{templateUrl:"views/urediVrstoStudija.template.html",controller:"urediVrstoStudijaCtrl",controllerAs:"vm"}).when("/urediVrsteVpisa",{templateUrl:"views/urediVrsteVpisa.template.html",controller:"urediVrsteVpisaCtrl",controllerAs:"vm"}).when("/urediVrstoVpisa/:idVrsteVpisa",{templateUrl:"views/urediVrstoVpisa.template.html",controller:"urediVrstoVpisaCtrl",controllerAs:"vm"}).when("/urediZaposlene",{templateUrl:"views/urediZaposlene.template.html",controller:"urediZaposleneCtrl",controllerAs:"vm"}).when("/urediZaposlenega/:idZaposlenega",{templateUrl:"views/urediZaposlenega.template.html",controller:"urediZaposlenegaCtrl",controllerAs:"vm"}).when("/urediDelePredmetov",{templateUrl:"views/urediDelePredmetov.template.html",controller:"urediDelePredmetovCtrl",controllerAs:"vm"}).when("/urediDelePredmeta/:idDelaPredmeta",{templateUrl:"views/urediDelePredmeta.template.html",controller:"urediDelePredmetaCtrl",controllerAs:"vm"}).otherwise({redirectTo:"/student/main"}),t.html5Mode(!0)}]).factory("httpRequestInterceptor",t).config(e),e.$inject=["$httpProvider"],t.$inject=["$window"]}(),function(){function e(e,t,i,n,r){var o=this;o.idStudenta=n.currentUser().student,o.veljavnostEMSO=function(){o.isEMSO(o.student.emso)?(o.napacenEmso="",900<o.student.emso.substring(4,7)?o.student.datum_rojstva=o.student.emso.substring(0,2)+"."+o.student.emso.substring(2,4)+".1"+o.student.emso.substring(4,7):o.student.datum_rojstva=o.student.emso.substring(0,2)+"."+o.student.emso.substring(2,4)+".2"+o.student.emso.substring(4,7)):o.napacenEmso="Ponovno preverite vnos EMSA"},o.isEMSO=function(e){if(e.length!=="DDMMLLLRRZZZK".length||"7777777777777"===e)return!1;for(var t=7,i=0,n=0;n<12;n++){var r=parseInt(e.substring(n,n+1));if(isNaN(r))return!1;i+=t*r,--t<2&&(t=7)}return(11-i%11).toString()===e.substring(12,13)},o.izbranNaslov=function(e){e?o.student.stalno_bivalisce_vrocanje?o.student.zacasno_bivalisce_vrocanje=!1:o.student.zacasno_bivalisce_vrocanje=!0:o.student.zacasno_bivalisce_vrocanje?o.student.stalno_bivalisce_vrocanje=!1:o.student.stalno_bivalisce_vrocanje=!0},o.shraniPodatke=function(){var e={vpisna_stevilka:o.student.vpisna_stevilka,priimek:o.student.priimek,ime:o.student.ime,datum_rojstva:o.student.datum_rojstva,kraj_rojstva:o.student.kraj_rojstva,drzava_rojstva:o.student.drzava_rojstva,obcina_rojstva:o.student.obcina_rojstva,drzavljanstvo:o.student.drzavljanstvo,spol:o.student.spol,emso:o.student.emso,davcna_stevilka:o.student.davcna_stevilka,email:o.student.email,prenosni_telefon:o.student.prenosni_telefon,stalno_bivalisce_naslov:o.student.stalno_bivalisce_naslov,stalno_bivalisce_posta:o.student.stalno_bivalisce_posta,stalno_bivalisce_obcina:o.student.stalno_bivalisce_obcina,stalno_bivalisce_drzava:o.student.stalno_bivalisce_drzava,stalno_bivalisce_vrocanje:o.student.stalno_bivalisce_vrocanje,zacasno_bivalisce_naslov:o.student.zacasno_bivalisce_naslov,zacasno_bivalisce_posta:o.student.zacasno_bivalisce_posta,zacasno_bivalisce_obcina:o.student.zacasno_bivalisce_obcina,zacasno_bivalisce_drzava:o.student.zacasno_bivalisce_drzava,zacasno_bivalisce_vrocanje:o.student.zacasno_bivalisce_vrocanje};t.urediStudenta(o.idStudenta,e).then(function(e){},function(e){console.log("Zgodila se je napaka: "+e)})},t.izpisStudenta(o.idStudenta).then(function(e){o.student=e.data},function(e){console.log("Pripetila se je napaka: "+e)}),r.pridobiObcine().then(function(e){o.obcine=e.data},function(e){console.log("Prišlo do napake pri pridobivanju občin: "+e)}),r.pridobiDrzave().then(function(e){o.drzave=e.data},function(e){console.log("Prišlo do napake pri pridobivanju drćav: "+e)}),r.pridobiPoste().then(function(e){o.poste=e.data},function(e){console.log("Prišlo do napake pri pridobivanju pošt: "+e)}),o.izbiraPredmetov=function(){o.izbirci="true",e.pridobiPredmet("1").then(function(e){o.redniPredmeti=e.data},function(e){console.log(e)}),e.pridobiPredmet("1").then(function(e){o.izbirniPredmeti=e.data},function(e){console.log(e)})}}e.$inject=["predmetPodatki","studentPodatki","$routeParams","authentication","ostaloPodatki"],angular.module("tpo").controller("vpisniListCtrl",e)}(),angular.module("tpo").directive("header",function(){return{restrict:"EA",templateUrl:"/total/directives/header/header.template.html"}}),angular.module("tpo").directive("footer",function(){return{restrict:"EA",templateUrl:"/total/directives/footer/footer.template.html"}}),angular.module("tpo").directive("navigation",function(){return{restrict:"EA",templateUrl:"/total/directives/navigation/navigation.template.html"}}),function(){var e=function(i){return{dodajStudenta:function(e){return i.post("/api/v1/student",e)},izpisStudentov:function(){return i.get("/api/v1/student")},izpisStudenta:function(e){return i.get("/api/v1/student/"+e)},urediStudenta:function(e,t){return i.put("/api/v1/student/"+e,t)}}};e.$inject=["$http"],angular.module("tpo").service("studentPodatki",e)}(),function(){var e=function(i){return{pridobiPredmet:function(e){return i.get("/api/v1/predmet/"+e)},izpisiVsePredmete:function(){return i.get("api/v1/predmet/vse")},izpisiVseVeljavnePredmete:function(){return i.get("api/v1/predmet")},izpisiVseIzbrisanePredmete:function(){return i.get("api/v1/predmet/izbrisane")},dodajPredmet:function(e){return i.post("api/v1/predmet",e)},izbrisiPredmet:function(e){return i.delete("api/v1/predmet/"+e)},obnoviPredmet:function(e){return i.post("api/v1/predmet/"+e)},urediPredmet:function(e,t){return i.put("api/v1/predmet/"+e,t)}}};e.$inject=["$http"],angular.module("tpo").service("predmetPodatki",e)}(),function(){function e(t,e,i){var n=this;n.prikaziPredmete=function(){t.izpisiVsePredmete().then(function(e){n.predmeti=e.data},function(e){console.log(e)})},n.izbris=function(e){t.izbrisiPredmet(e).then(function(e){n.prikaziPredmete()},function(e){console.log(e)})},n.obnovi=function(e){t.obnoviPredmet(e).then(function(e){n.prikaziPredmete()},function(e){console.log(e)})},n.uredi=function(e){i.path("/urediPredmet/"+e)}}e.$inject=["predmetPodatki","$scope","$location"],angular.module("tpo").controller("urediPredmeteCtrl",e)}(),function(){function e(t,i,e){var n=this;n.idPredmeta=e.idPredmeta,n.opcijeKT=[1,2,3,4,5,6],n.pridobiPredmet=function(){i.pridobiPredmet(n.idPredmeta).then(function(e){n.predmet=e.data},function(e){console.log(e)})},n.shrani=function(){var e={naziv:n.predmet.naziv,sifra:n.predmet.sifra,KT:n.predmet.KT};i.urediPredmet(n.idPredmeta,e).then(function(e){t.path("/urediPredmete")},function(e){n.obvestilo="Že obstaja zapis s to šifro",console.log(e)})},n.preklici=function(){t.path("/urediPredmete")}}e.$inject=["$location","predmetPodatki","$routeParams"],angular.module("tpo").controller("urediPredmetCtrl",e)}(),function(){function e(t,e,i){var n=this;n.prikazi=function(){t.pridobiVseNacineStudija().then(function(e){n.nacinStudija=e.data},function(e){console.log(e)})},n.izbris=function(e){t.izbrisiNacinStudija(e).then(function(e){n.prikazi()},function(e){console.log(e)})},n.obnovi=function(e){t.obnoviNacinStudija(e).then(function(e){n.prikazi()},function(e){console.log(e)})},n.uredi=function(e){i.path("/urediNacinStudija/"+e)}}e.$inject=["ostaloPodatki","$scope","$location"],angular.module("tpo").controller("urediNacineStudijaCtrl",e)}(),function(){function e(t,i,e){var n=this;n.idNacinStudija=e.idNacinStudija,n.pridobi=function(){i.najdiNacinStudija(n.idNacinStudija).then(function(e){n.podatki=e.data},function(e){console.log(e)})},n.shrani=function(){var e={naziv:n.podatki.naziv,sifra:n.podatki.sifra};i.urediNacinStudija(n.idNacinStudija,e).then(function(e){t.path("/urediNacineStudija")},function(e){n.obvestilo="Že obstaja zapis s to šifro",console.log(e)})},n.preklici=function(){t.path("/urediNacineStudija")}}e.$inject=["$location","ostaloPodatki","$routeParams"],angular.module("tpo").controller("urediNacinStudijaCtrl",e)}();